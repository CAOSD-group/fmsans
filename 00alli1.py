import os
import time
import subprocess
import re
import sys

numberDivisions = 32768
numberJobs = 8
max_time = 36000
sleep = 1
#python ../02processandgeneratecsvs.py 65536 128 27758328010108391723533273051008521401993215107035853860962271509829959414991954804542791240949187357328752676867337961924993821362274829464380491878691646967929615139973395103485454182165082507767865352204915092169831515773096229763635230504341452127768395580288695779220769180396125392108681192985899867405199975492259156166400087675352193807266815825825559626237976357232530819808849431186185533093730210220413530721834200367359590112943266769312065293137780211892341872263947510247481033349428117271090825986173130524037354786306369305869408398495296608372756447787337467749685600444007484121293658444761556356564545046525035036071050093340975855951062119562076586150797616658314014567300155037618253111163246560690095300395918268372881910776040517966002539873659423871745071151990002361010180747332120023040721618561270671273476093299695273757453223165320773225092224201247850584664724834134620199070306164863568320056586319767627757948448536988617791506995943598638701413265107555475735991733776767779392976305002642866794971653166455103099733018686600742668982378084739529367886729769425393945575321083644863283089237459071120195423323017913434314290581358619417250681568965896058756282479411076584225368964158205479888764961933104547766491268413600426220682383711677026228323838237476148149349680222621907436150991689694135653693550625992493810103309030557880242193639924953674542944066028649652271837066798192426291756254908789287345488574265594044050499851092442601937988214490950960105932088997180421193364407518702477368152584155818298871177696138918564942688353406567469847763116772006564825546284892467533865601911053323432620537965338194539029004494933893486957531544952355223090459423067328760082811289256284758211692064632217446033785797534513446639571994716915827358250581798438358528420761750894859752675742298044006325487838050473717796580039221590350871431482773833912751664908636861370075690538572606235338282010973642525454144079785700794930652557153460112867552223697456421389395401123569186361815919325920802540086945090977911438741680089253055217217177586247174285181755888111260913591296864045319999773937058270216040005249683366273812514900862705896654303222572030018103878017596507010174083910738765277253969517371148583393313686689265006552517600478301962414464264920295420329679270914949911516866010620953170204464123011235261568386232401056832786351823212441770177134573959190358833337476948307247706332301597398781825876154153769225709660278230200846751139814792381966092726070784224094297117456070252778617145706709656440283145113498155614515535257399680499877182193616256928251090675390652170791826103786209370816456035921247627956223599019860400533736763328079990159578818662209991261429016456244712459394863471229626488236998886551196354312183876613453864822058974999540443946521840759594444372659710560683266155893422245718528743886109873064799576952909037403109951379442433381433561370702064229529609491509566823049145451299333586238842719521865024147743213391181036305508894890186043154572567836715572567684322520364874271456174115102060043602307575481542742765107580923131747073939802199161614871683045959799889824545549476940706269525100058767356030540705256245066066915188585357872463991610633217178147141783701857377055001773334478698027504696042635803828792200423359706080069854272385603573838103026351649278991449129203534757812890471461633035687121089822007080680178066060234751636945325091147850519208419901082318524429104222562384292913286826267971033539009803318896538999450837083752457173289263869148117280044231489374948981104136804589813118285611631108433791321782113062816155316217858296509271522444335420257993545604365263956453384438796804007063433604759940038446085010563851333443975661788404100869927238829773481532600550689135743482808051952368967087256667636793152012202684326884130970025651931094543188544370319506918109692321093851277999599216902418616990761656913782966564423506092362415176618118289087518469419984572942222367493845449539395667882299161207861023359581482675355944802933526649438708249277336577825692759878297079901588411843935874861824516136163481663760928610430330676024409427205107662132634330724277867011929935735975482492828013977008777838157288046283818594001169866994383329844639554862371757718654371461612524242880298127899157861986091585066147643953769942723087841697882567163240208126166147316455549871035181070758334646023831829048367672624556281644410406216029646588683729926830166295564208865451881921592964495380884233373048398590432462848478513035356202962139910889533482041534562609938395983864710055604728369031603453848762806335176703
sleepCounter=8
#improve to check for more than only one
#GPL maxConfiguration=77371252455336267181195263
#uClib 
#maxConfiguration=14396524142538228424993723224595141948383030778566133225922417832357880258148761185020930195532450742879746914027266864394266451377581759004827248578768524336431103
#BusyBox
#maxConfiguration=9076030935533343889148330677184451660957398691768765008885326289770145612551296225251271450782204288267814476258502032778653474399077793626653018683486295323382390383590453332169716856898789897889643528945016096228440849041002686084943230837088977557446564364344140092918489677823
#uClinuxdis
#maxConfiguration=188501787658138776526316391973679239907820382867140805681144220780050698265428977917842924316820804490882044531700026161400423140624345724347059987430217219443542346615871751089083876220596224387399635909565487009065232689887930358404389913798458461035797425091600762263250923357187307004059038598692050448905404415
#Automotive
#maxConfiguration=4632438043593408345637713970404518697455360929338020700251286164638922833290296261210275471908054082927678172415549545870695145203516810583601635587166351514610107165538745558411647927575883095993165049893845351105218868056451782753236019830913888921058489082707775794350658636371250726835106723373468799969254040720524751617654737817807391884481170174096831879768502222588615092235795245153808394336122063839036464089165027809754697270743823850939537930991563051159465774622775521029734224636204137038372488418330804851673423939219188714502504168696241334506597405937650710750538580209441230455411842593365629840001275402927172252775995877549778214861959632555767771491316538487814557811957312301189020983270233115459583
#uClinuxbase
#maxConfiguration=53011964731314639360170211948944612964704102539734029726489124561294504015911946159546600129546616582963686747580297614112539484367985917450348142164324479806664791755121261307082907400871008789637247661119651509692039792807470747939375057064652404230895696250498153019693037270075500145947185742012497137762341187603993810780342751781066415020030854412546101526061213859287087970134446210330531222307912639519713558202409997545945974290594682478446905781928619834106212867030902653244998157330014042622049124771863130593894113369924880293659151097629295423969359637174269958687311277493322449002501444105518888295419048006500031564348836566009998778068252026426575989164661803420268518371668415529666173159040783223084467238758535589487870699423357464258378641284552952654453813850208224121092383173756478787343283350549338900394576562244966662748241423551249690179956160560366141531351832783336434676173527012791311738766106240195615564804992735124670490648976167391935267318509459583610715725525545793272873249974372976022146124194947837868488697844608115267025917699612067770289012133451821190233555300668713992191
#CDL
#maxConfiguration=13516871715637497063887732875081211731797515874283357168259213682631321993154516266924788625082299793186426895501840727099083391111208685742023711459182410418259906578689061641485944722270168571463607944455747330704677763347287166091616266533224068514610117845814742803945440504029127077401585435194130008559864399385942414166761522880985058682089992528479166503895836786405777454906232787885922917876505134038167429724358515707775538493962844709840424690843624080421550878000647825372064034726416781307161191635809449099239777274674016684689029661050726356149834034067471463716707288645682965071433495673536787630579334728911372883171048071542538035978821562537518343816247969955644223008693198901850707966405958116990330218515810313997132201969217226629713550807065022929562180223813940101173388506548148613128866602425315419846215887040585708487637675270771660605371869582355246095243580882722349570269485735336314462744830780129786567255263455594852911190382600387684056949348772531984585901409930158136400043715381876168707326078312277445987957826037930313387104114389019383839405626450213259566343333718509596020861851762225197678442407900583607525909309512157937950119809527830884520781044946929882944198459693621001738217297781001276150872730351466729189385616436446063678072767102754705925775045004647995319727223037657735165197862095355037676316580085619120472733368936728672555196942603793771651129510018832321152528255038579061077191032812298386678555521811020005896386129836943424380742701118224294990030702771673688535564907759879935377985742667470308019368038712785886723043885363442982887997658254889055289263263693144786076243126576322607016990770766869707739254723565119641134696983187744874330794234556016698362571068763692421660671853575005989413005959219475944641027627099598885084328523180210995863524459722848826382705907732214429586414070342179046666822849907227135566072323714340769766503391918674127035922476981957478019419463332900611605182503000322258496177756280089496255200326896112310189212501625184123978562368611906038105339858229445062380317203864495535520323016615862925764295856953760685846035482528253607069750548354253219108401599539483401924922120922351264118491944015978470733100827495665898274903435995475517880433395661727694846497634283558986176847339127826290969199879645126172140607233245534709111324671
#EMB
#maxConfiguration=27758328010108391723533273051008521401993215107035853860962271509829959414991954804542791240949187357328752676867337961924993821362274829464380491878691646967929615139973395103485454182165082507767865352204915092169831515773096229763635230504341452127768395580288695779220769180396125392108681192985899867405199975492259156166400087675352193807266815825825559626237976357232530819808849431186185533093730210220413530721834200367359590112943266769312065293137780211892341872263947510247481033349428117271090825986173130524037354786306369305869408398495296608372756447787337467749685600444007484121293658444761556356564545046525035036071050093340975855951062119562076586150797616658314014567300155037618253111163246560690095300395918268372881910776040517966002539873659423871745071151990002361010180747332120023040721618561270671273476093299695273757453223165320773225092224201247850584664724834134620199070306164863568320056586319767627757948448536988617791506995943598638701413265107555475735991733776767779392976305002642866794971653166455103099733018686600742668982378084739529367886729769425393945575321083644863283089237459071120195423323017913434314290581358619417250681568965896058756282479411076584225368964158205479888764961933104547766491268413600426220682383711677026228323838237476148149349680222621907436150991689694135653693550625992493810103309030557880242193639924953674542944066028649652271837066798192426291756254908789287345488574265594044050499851092442601937988214490950960105932088997180421193364407518702477368152584155818298871177696138918564942688353406567469847763116772006564825546284892467533865601911053323432620537965338194539029004494933893486957531544952355223090459423067328760082811289256284758211692064632217446033785797534513446639571994716915827358250581798438358528420761750894859752675742298044006325487838050473717796580039221590350871431482773833912751664908636861370075690538572606235338282010973642525454144079785700794930652557153460112867552223697456421389395401123569186361815919325920802540086945090977911438741680089253055217217177586247174285181755888111260913591296864045319999773937058270216040005249683366273812514900862705896654303222572030018103878017596507010174083910738765277253969517371148583393313686689265006552517600478301962414464264920295420329679270914949911516866010620953170204464123011235261568386232401056832786351823212441770177134573959190358833337476948307247706332301597398781825876154153769225709660278230200846751139814792381966092726070784224094297117456070252778617145706709656440283145113498155614515535257399680499877182193616256928251090675390652170791826103786209370816456035921247627956223599019860400533736763328079990159578818662209991261429016456244712459394863471229626488236998886551196354312183876613453864822058974999540443946521840759594444372659710560683266155893422245718528743886109873064799576952909037403109951379442433381433561370702064229529609491509566823049145451299333586238842719521865024147743213391181036305508894890186043154572567836715572567684322520364874271456174115102060043602307575481542742765107580923131747073939802199161614871683045959799889824545549476940706269525100058767356030540705256245066066915188585357872463991610633217178147141783701857377055001773334478698027504696042635803828792200423359706080069854272385603573838103026351649278991449129203534757812890471461633035687121089822007080680178066060234751636945325091147850519208419901082318524429104222562384292913286826267971033539009803318896538999450837083752457173289263869148117280044231489374948981104136804589813118285611631108433791321782113062816155316217858296509271522444335420257993545604365263956453384438796804007063433604759940038446085010563851333443975661788404100869927238829773481532600550689135743482808051952368967087256667636793152012202684326884130970025651931094543188544370319506918109692321093851277999599216902418616990761656913782966564423506092362415176618118289087518469419984572942222367493845449539395667882299161207861023359581482675355944802933526649438708249277336577825692759878297079901588411843935874861824516136163481663760928610430330676024409427205107662132634330724277867011929935735975482492828013977008777838157288046283818594001169866994383329844639554862371757718654371461612524242880298127899157861986091585066147643953769942723087841697882567163240208126166147316455549871035181070758334646023831829048367672624556281644410406216029646588683729926830166295564208865451881921592964495380884233373048398590432462848478513035356202962139910889533482041534562609938395983864710055604728369031603453848762806335176703



maxConfiguration=75557863725914323419135



#model="fm_models/simples/uClibc_simple.uvl"
model="fm_models/simples/Krieter2020o_simple.uvl"


cont = 0 

for i in range(numberJobs):
        fS= "./OutputR_1_" + str(i) + "-" + str(numberDivisions) + ".err"
        comando= "/usr/bin/time -o " + fS  + " python ./../picassofiles01main.py ./../" + model + " " + str(numberDivisions) + " " + str(i) + " " + str(numberJobs ) + " " + str(max_time) + " &"

        #comando= "/usr/bin/time -o " + fS  + " -f \"%U %S\" python ./../picasso01main.py ./../" + model + "  " + str(numberTasks) + " " + str(i) + ficheroCSV + str(min_time) + " " + str(max_time) + " &"
        #print(comando)
        os.system(comando) 
    
        cont+=1
        if (cont>sleepCounter):
                cont=0
                time.sleep(sleep)

   